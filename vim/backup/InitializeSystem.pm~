package Interactor::InitializeSystem;

use Moo;
use WSB;
use WSB::Types qw( SoftwareContainer );
use Storage::File::SoftwareRepository;
# use Storage::Sql::SoftwareRepository;
use Entity::SoftwareContainer;
use Lexical::Accessor;
use Data::Dumper;

my $container;

lexical_has 'container' => (
    is       => 'rw',
    isa      => SoftwareContainer,
    coerce   => 1,
    accessor => \$container,
);

sub execute {
    my $self = shift;
    my $wsb = WSB->new();

    my $s = Storage::File::SoftwareRepository->new()->findAll();
    my $c = Entity::SoftwareContainer->new(
        software => $s
    );
    $self->$container( $c );
    # $self->$container( Storage::File::SoftwareRepository->new()->findAll() );

    print Dumper($self->$container);
}

1;
